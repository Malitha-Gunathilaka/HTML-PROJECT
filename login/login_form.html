<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Login</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        .form-group {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .form-group label {
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>User Login</h2>
        <form id="loginForm" action="login.php" method="POST">
            <div class="form-group">
                <label for="emailOrNic"><i class="fas fa-user"></i></label>
                <input type="text" name="emailOrNic" id="emailOrNic" placeholder="Email or NIC" required>
            </div>
            <div class="form-group">
                <label for="password"><i class="fas fa-lock"></i></label>
                <input type="password" name="password" id="password" placeholder="Password" required>
            </div>
            <div class="form-group">
                <button type="submit" name="submit">Login</button>
            </div>
        </form>
        <p class="register_now">No Account pls <a href="../register/registration_form.html">Register_now</a>?</p>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const params = new URLSearchParams(window.location.search);
            const errorMessage = params.get('error');
            if (errorMessage === 'passwordMismatch') {
                alert('Incorrect password. Please try again.');
                const emailOrNic = params.get('emailOrNic');
                document.getElementById('emailOrNic').value = emailOrNic; // Populate email/NIC field
                document.getElementById('password').value = ''; // Clear password field
            } else if (errorMessage === 'emailOrNic') {
                alert('Email/NIC not found. Please check your credentials.');
            }
        });
    </script>

    <script src="script.js"></script>
</body>
</html>
